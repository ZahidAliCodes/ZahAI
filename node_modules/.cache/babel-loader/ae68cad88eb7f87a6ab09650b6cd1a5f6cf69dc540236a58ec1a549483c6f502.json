{"ast":null,"code":"import{createContext,useState}from\"react\";import runChat from\"../Config/Perplexity\";import{jsx as _jsx}from\"react/jsx-runtime\";export const Context=/*#__PURE__*/createContext();const ContextProvider=props=>{const[input,setInput]=useState(\"\");const[recentPrompt,setRecentPrompt]=useState(\"\");const[prevPrompts,setPrevPrompts]=useState([]);const[showResult,setShowResult]=useState(false);const[loading,setLoading]=useState(false);const[resultData,setResultData]=useState(\"\");const delaypara=(index,nextWord)=>{setTimeout(function(){setResultData(prev=>prev+nextWord);},80*index);};const newchat=()=>{setLoading(false);setShowResult(false);};const onSent=async prompt=>{setResultData(\"\");setLoading(true);setShowResult(true);let response;if(prompt!==undefined){response=await runChat(prompt);setRecentPrompt(prompt);}else{setPrevPrompts(prev=>[...prev,input]);setRecentPrompt(input);response=await runChat(input);}let responseArray=response.split(\"**\");let newResponse=\"\";for(let i=0;i<responseArray.length;i++){if(i===0||i%2!==1){newResponse+=responseArray[i];}else{newResponse+=\"<b>\"+responseArray[i]+\"</b>\";}}let newResponse2=newResponse.split(\"*\").join(\"</br>\");let newResponseArray=newResponse2.split(\" \");for(let i=0;i<newResponseArray.length;i++){const nextWord=newResponseArray[i];delaypara(i,nextWord+\" \");}setLoading(false);setInput(\"\");};const contextValue={prevPrompts,setPrevPrompts,onSent,setRecentPrompt,recentPrompt,showResult,loading,resultData,input,setInput,newchat};return/*#__PURE__*/_jsx(Context.Provider,{value:contextValue,children:props.children});};export default ContextProvider;","map":{"version":3,"names":["createContext","useState","runChat","jsx","_jsx","Context","ContextProvider","props","input","setInput","recentPrompt","setRecentPrompt","prevPrompts","setPrevPrompts","showResult","setShowResult","loading","setLoading","resultData","setResultData","delaypara","index","nextWord","setTimeout","prev","newchat","onSent","prompt","response","undefined","responseArray","split","newResponse","i","length","newResponse2","join","newResponseArray","contextValue","Provider","value","children"],"sources":["C:/Users/Zahid/Desktop/ZahAi/src/Context/Context.jsx"],"sourcesContent":["import { createContext, useState } from \"react\";\r\nimport runChat from \"../Config/Perplexity\";\r\n\r\nexport const Context = createContext();\r\n\r\nconst ContextProvider = (props) => {\r\n\r\n    const [input,setInput] = useState(\"\");\r\n    const [recentPrompt,setRecentPrompt] = useState(\"\");\r\n    const [prevPrompts,setPrevPrompts] = useState([]);\r\n    const [showResult,setShowResult] = useState(false);\r\n    const [loading,setLoading] = useState(false);\r\n    const [resultData,setResultData] = useState(\"\");\r\n\r\n    const delaypara = (index,nextWord) => {\r\n        setTimeout(function () {\r\n            setResultData(prev=>prev+nextWord);\r\n        },80*index)\r\n    }\r\n\r\n    const newchat = () => {\r\n        setLoading(false)\r\n        setShowResult(false)\r\n    }\r\n\r\n    const onSent = async (prompt) => {\r\n\r\n       setResultData(\"\")\r\n       setLoading(true)\r\n       setShowResult(true)\r\n       let response;\r\n        if(prompt !== undefined){\r\n            response = await runChat(prompt);\r\n            setRecentPrompt(prompt)\r\n        }else{\r\n            setPrevPrompts(prev=>[...prev,input])\r\n            setRecentPrompt(input)\r\n            response = await runChat(input)\r\n        }\r\n\r\n       let responseArray = response.split(\"**\")\r\n       let newResponse=\"\";\r\n       for(let i =0 ; i < responseArray.length; i++)\r\n       {\r\n        if(i===0 || i%2 !== 1){\r\n            newResponse += responseArray[i];\r\n        }\r\n        else{\r\n            newResponse += \"<b>\"+responseArray[i]+\"</b>\";\r\n        }\r\n       }\r\n       let newResponse2 = newResponse.split(\"*\").join(\"</br>\")\r\n      let newResponseArray = newResponse2.split(\" \");\r\n      for(let i=0; i<newResponseArray.length;i++){\r\n        const nextWord = newResponseArray[i];\r\n        delaypara(i,nextWord+\" \")\r\n      }\r\n       setLoading(false)\r\n       setInput(\"\")\r\n    }\r\n\r\n    const contextValue = {\r\n        prevPrompts,\r\n        setPrevPrompts,\r\n        onSent,\r\n        setRecentPrompt,\r\n        recentPrompt,\r\n        showResult,\r\n        loading,\r\n        resultData,\r\n        input,\r\n        setInput,\r\n        newchat\r\n    }\r\n\r\n    return(\r\n        <Context.Provider value={contextValue}>\r\n            {props.children}\r\n        </Context.Provider>\r\n    )\r\n}\r\n\r\nexport default ContextProvider"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}